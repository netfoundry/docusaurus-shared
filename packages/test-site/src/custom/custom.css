@import '@netfoundry/docusaurus-theme/css/tabs-v8-float.css';

/* CACHE BUST v33.0 - TOTAL RESTORATION & DYNAMIC HEADER */

:root {
    --ifm-color-primary: #0076FF;
    --ifm-background-color: #f8fafc;
    --ifm-card-background-color: #ffffff;
    --product-name: 'NETFOUNDRY';
}

/* --- DYNAMIC PRODUCT NAME MAPPING --- */
[class*='frontdoor'] { --product-name: 'FRONTDOOR'; }
[class*='openziti'] { --product-name: 'OPENZITI'; }
[class*='zrok']      { --product-name: 'ZROK'; }
[class*='zlan']      { --product-name: 'ZLAN'; }
[class*='onprem']    { --product-name: 'ON-PREM'; }

[data-theme='dark'] {
    --ifm-background-color: #0f111a;
    --ifm-card-background-color: #1a1b26;
}

/* --- 1. STAR BANNER (HIDDEN) --- */
.starUsRoot_XOT4 { display: none !important; }

/* --- 2. HERO SECTION --- */
.nf-hero-stage {
    position: relative; width: 100%; min-height: 380px; display: flex; align-items: center; justify-content: center;
    background-color: #090a11; background-image: url('../../static/img/nf-docs-hero.png'); background-size: cover; background-position: center; text-align: center;
}
.nf-hero-stage::before { content: ''; position: absolute; inset: 0; background: rgba(9, 10, 17, 0.65); z-index: 1; }
.nf-hero-content { position: relative; z-index: 10; }
.nf-hero-title { font-size: 3.5rem !important; font-weight: 900 !important; color: #ffffff !important; margin-bottom: 0.75rem !important; }
.nf-green-text { color: #2ecc71 !important; display: inline-block; }
.nf-hero-subtext { color: #cbd5e1 !important; font-size: 1.25rem !important; max-width: 700px; margin: 0 auto 2rem !important; }

/* --- 3. BUTTONS (FIXED VISIBILITY) --- */
.button--primary { background-color: #0076FF !important; border-color: #0076FF !important; color: #ffffff !important; transition: all 0.25s ease !important; font-weight: 600 !important; }
.button--primary:hover { transform: translateY(-2px) !important; box-shadow: 0 8px 20px rgba(0, 118, 255, 0.25) !important; text-decoration: none !important; opacity: 0.95; }
.nf-cta-outline { color: #ffffff !important; border: 1px solid rgba(255, 255, 255, 0.6) !important; background-color: transparent !important; }

/* --- 4. THE INTERCONNECTED MESH BACKGROUND --- */
main.nf-main-grid { position: relative; width: 100%; padding: 1.5rem 0 2rem !important; z-index: 1; }
main.nf-main-grid::before {
    content: ''; position: absolute; top: 0; bottom: 0; left: 50%; transform: translateX(-50%); width: 100vw; height: 100%; pointer-events: none; z-index: -1;
    background-image: url("data:image/svg+xml,%3Csvg width='500' height='500' viewBox='0 0 500 500' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' stroke='%230076FF' stroke-width='0.6' stroke-opacity='0.15'%3E%3Cpath d='M80 100 L350 150 L420 400 L120 450 L80 100 M350 150 L120 450'/%3E%3Ccircle fill='%230076FF' fill-opacity='0.2' cx='80' cy='100' r='3.5'/%3E%3Ccircle fill='%230076FF' fill-opacity='0.2' cx='350' cy='150' r='3.5'/%3E%3Ccircle fill='%230076FF' fill-opacity='0.2' cx='420' cy='400' r='3.5'/%3E%3Ccircle fill='%230076FF' fill-opacity='0.2' cx='120' cy='450' r='3.5'/%3E%3C/g%3E%3C/svg%3E");
    background-size: 500px 500px; -webkit-mask-image: radial-gradient(ellipse at center, black 40%, transparent 98%);
}

/* --- 5. PRODUCT CARDS (RESTORED TEXT COLORS) --- */
.nf-card { position: relative; z-index: 5; display: flex; flex-direction: column; height: 100%; padding: 1.5rem; border-radius: 12px; text-decoration: none !important; transition: all 0.3s ease; background: linear-gradient(var(--ifm-card-background-color), var(--ifm-card-background-color)) padding-box, linear-gradient(135deg, #0076FF, #2ecc71) border-box !important; border: 1px solid transparent !important; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05); }
.nf-card:hover { transform: translateY(-4px); }
.nf-card h3 { color: #000000 !important; font-weight: 800; font-size: 1.2rem; margin-bottom: 0.5rem !important; }
[data-theme='dark'] .nf-card h3 { color: #ffffff !important; }
.nf-card p { color: #475569 !important; font-size: 0.95rem; line-height: 1.4; flex-grow: 1; margin: 0 !important; }
[data-theme='dark'] .nf-card p { color: #94a3b8 !important; }

/* Labels & Links (Restored) */
.nf-card-badge { position: absolute; top: 12px; right: 12px; font-size: 0.65rem; font-weight: 800; padding: 2px 8px; border-radius: 4px; text-transform: uppercase; background: rgba(46, 204, 113, 0.12); color: #2ecc71; }
.nf-card-link { margin-top: auto; padding-top: 1rem; color: var(--ifm-color-primary) !important; font-weight: 700; font-size: 0.85rem; text-transform: uppercase; }

/* --- 6. ICONS --- */
.nf-card-header { display: flex; align-items: center; margin-bottom: 0.5rem; }
.nf-card-icon, .mega-icon { width: 28px; height: 28px; margin-right: 0.75rem; background-color: var(--ifm-color-primary); -webkit-mask-size: contain; mask-size: contain; -webkit-mask-repeat: no-repeat; display: inline-block; }
.mega-icon { width: 20px; height: 20px; margin-right: 0.8rem; }
.icon-console { -webkit-mask-image: url('https://cdn.jsdelivr.net/npm/lucide-static@0.344.0/icons/layout-dashboard.svg'); }
.icon-server  { -webkit-mask-image: url('https://cdn.jsdelivr.net/npm/lucide-static@0.344.0/icons/server.svg'); }
.icon-door    { -webkit-mask-image: url('https://cdn.jsdelivr.net/npm/lucide-static@0.344.0/icons/door-open.svg'); }
.icon-share   { -webkit-mask-image: url('https://cdn.jsdelivr.net/npm/lucide-static@0.344.0/icons/rocket.svg'); }
.icon-mesh    { -webkit-mask-image: url('https://cdn.jsdelivr.net/npm/lucide-static@0.344.0/icons/shield-check.svg'); }
.icon-network { -webkit-mask-image: url('https://cdn.jsdelivr.net/npm/lucide-static@0.344.0/icons/network.svg'); }
.icon-blog    { -webkit-mask-image: url('https://cdn.jsdelivr.net/npm/lucide-static@0.344.0/icons/newspaper.svg') !important; }
.icon-youtube { -webkit-mask-image: url('https://cdn.jsdelivr.net/npm/lucide-static@0.344.0/icons/video.svg') !important; }
.icon-forum   { -webkit-mask-image: url('https://cdn.jsdelivr.net/npm/lucide-static@0.344.0/icons/messages-square.svg') !important; }

/* --- 7. NAVBAR (ENHANCED) --- */
.navbar {
    background: rgba(255, 255, 255, 0.95) !important;
    backdrop-filter: blur(12px) saturate(180%);
    border-bottom: 1px solid rgba(0, 118, 255, 0.1);
    padding: 0.6rem 2rem;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
    transition: all 0.3s ease;
}
[data-theme='dark'] .navbar {
    background: rgba(26, 27, 38, 0.95) !important;
    border-bottom-color: rgba(0, 118, 255, 0.15);
}
.navbar__title {
    font-weight: 800 !important;
    font-size: 1.1rem !important;
    transition: color 0.3s ease;
    position: relative;
    padding-right: 2rem;
}
.navbar__title:hover {
    color: var(--ifm-color-primary) !important;
}

/* Add separator after logo/title */
.navbar__title::after {
    content: '';
    position: absolute;
    right: 0;
    top: 50%;
    transform: translateY(-50%);
    height: 24px;
    width: 1px;
    background: linear-gradient(to bottom,
        transparent 0%,
        rgba(0, 118, 255, 0.3) 20%,
        rgba(0, 118, 255, 0.3) 80%,
        transparent 100%);
}

.nf-mega-dropdown, .nf-resources-dropdown {
    font-weight: 600 !important;
    color: var(--ifm-font-color-base) !important;
    position: relative;
    padding-right: 1.2rem !important;
    transition: color 0.3s ease;
}
.nf-mega-dropdown:hover, .nf-resources-dropdown:hover {
    color: var(--ifm-color-primary) !important;
}

/* Animated chevron for dropdowns */
.nf-mega-dropdown::after, .nf-resources-dropdown::after {
    content: '';
    position: absolute;
    right: 0.2rem;
    top: 50%;
    transform: translateY(-50%);
    width: 0;
    height: 0;
    border-left: 4px solid transparent;
    border-right: 4px solid transparent;
    border-top: 5px solid currentColor;
    transition: all 0.3s ease;
    opacity: 0.6;
}

/* Hover state - chevron moves down MORE */
.navbar__link.nf-mega-dropdown:hover::after,
.navbar__link.nf-resources-dropdown:hover::after {
    transform: translateY(-20%);
    opacity: 1;
}

/* Open state - chevron rotates */
.navbar__item.dropdown--show .nf-mega-dropdown::after,
.navbar__item.dropdown--show .nf-resources-dropdown::after {
    transform: translateY(-50%) rotate(180deg);
    opacity: 1;
}

/* Navbar link hover effects - ONLY for left side items */
.navbar__item--left .navbar__link {
    transition: all 0.3s ease;
    position: relative;
}
.navbar__item--left .navbar__link::before {
    content: '';
    position: absolute;
    bottom: -0.6rem;
    left: 50%;
    transform: translateX(-50%) scaleX(0);
    width: 60%;
    height: 2px;
    background: var(--ifm-color-primary);
    transition: transform 0.3s ease;
    border-radius: 2px;
}
.navbar__item--left .navbar__link:hover::before {
    transform: translateX(-50%) scaleX(1);
}

/* --- 8. MEGA MENU --- */
.dropdown__menu:has(.mega-menu-content) { position: fixed !important; left: 50% !important; transform: translateX(-50%) !important; width: 85vw !important; max-width: 1000px !important; padding: 1.5rem 2rem !important; border-radius: 12px !important; border: 1px solid rgba(0, 118, 255, 0.12) !important; box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15) !important; background: var(--ifm-card-background-color) !important; }
.mega-menu-content { display: grid !important; grid-template-columns: 1fr 1fr !important; gap: 3rem !important; }
.mega-header { font-size: 0.7rem !important; font-weight: 900 !important; color: #ff5c35 !important; text-transform: uppercase; border-bottom: 2px solid rgba(255, 92, 53, 0.15) !important; display: block !important; margin-bottom: 0.75rem !important; }
.mega-link { display: flex !important; align-items: flex-start !important; padding: 0.55rem 0.65rem !important; text-decoration: none !important; transition: all 0.2s ease !important; border-radius: 8px; }
.mega-link:hover { background: rgba(0, 118, 255, 0.06) !important; transform: translateX(3px) !important; }
.mega-link strong { color: var(--ifm-font-color-base); font-size: 0.95rem; display: block !important; }
.mega-link span { color: #64748b; font-size: 0.82rem; display: block !important; margin-top: 2px; line-height: 1.35; }

/* --- 9. SIDEBAR: DYNAMIC VARIABLE HEADER (CLEAN & SUBTLE) --- */
aside[class*='sidebar'], .theme-doc-sidebar-container {
    background: #f6f6f6 !important;
    border-left: 1px solid #e0e0e0 !important;
    border-right: 1px solid #e0e0e0 !important;
}

.menu__list:first-child::before {
    content: var(--product-name);
    display: block !important;

    /* Small, elegant typography */
    color: #64748b;
    font-size: 0.7rem !important;
    font-weight: 700 !important;
    text-transform: uppercase !important;
    letter-spacing: 0.1em !important;

    /* Compact layout */
    padding: 0.5rem 0.75rem !important;
    margin-bottom: 0.75rem !important;

    /* Minimal styling - just a subtle left accent */
    border-left: 3px solid var(--ifm-color-primary);
    background: rgba(0, 118, 255, 0.03);
    position: relative;

    /* Subtle depth */
    opacity: 0.75;
    transition: opacity 0.3s ease;
}

.menu__list:first-child:hover::before {
    opacity: 1;
}

/* Dark mode variant */
[data-theme='dark'] .menu__list:first-child::before {
    color: #94a3b8;
    background: rgba(0, 118, 255, 0.08);
}

[data-theme='dark'] aside[class*='sidebar'],
[data-theme='dark'] .theme-doc-sidebar-container {
    background: #1a1b26 !important;
    border-color: #2a2b36 !important;
}

/* --- 10. PAGINATION LINKS (PREVIOUS/NEXT) --- */
.pagination-nav__label {
    color: var(--ifm-color-primary) !important;
    font-weight: 600 !important;
}

.pagination-nav__sublabel {
    color: #64748b !important;
}

[data-theme='dark'] .pagination-nav__sublabel {
    color: #94a3b8 !important;
}

.pagination-nav__link--prev .pagination-nav__label::before {
    content: '← ';
    color: #2ecc71 !important;
}

.pagination-nav__link--next .pagination-nav__label::after {
    content: ' →';
    color: #2ecc71 !important;
}

/* --- 11. MARKDOWN CONTENT LINKS --- */
article a {
    color: var(--ifm-color-primary) !important;
    text-decoration: none !important;
    font-weight: 500;
    transition: all 0.2s ease;
}
article a:hover {
    color: #2ecc71 !important;
    text-decoration: underline !important;
}

/* --- 12. BREADCRUMB LINKS --- */
/* Home icon stays blue with green hover */
.breadcrumbs__item:first-child .breadcrumbs__link {
    color: var(--ifm-color-primary) !important;
    text-decoration: none !important;
    transition: color 0.2s ease;
}
.breadcrumbs__item:first-child .breadcrumbs__link:hover {
    color: #2ecc71 !important;
}

/* Intermediate breadcrumb links are black - override blue default */
.breadcrumbs__item:not(:first-child):not(.breadcrumbs__item--active) .breadcrumbs__link {
    color: #1f2937 !important;
    text-decoration: none !important;
    transition: color 0.2s ease;
}
.breadcrumbs__item:not(:first-child):not(.breadcrumbs__item--active) .breadcrumbs__link:hover {
    color: #4b5563 !important;
}

/* Active/current page stays highlighted */
.breadcrumbs__item--active .breadcrumbs__link {
    color: var(--ifm-color-primary) !important;
    background: rgba(0, 118, 255, 0.08) !important;
    padding: 2px 8px !important;
    border-radius: 4px !important;
}

[data-theme='dark'] .breadcrumbs__item:not(:first-child):not(.breadcrumbs__item--active) .breadcrumbs__link {
    color: #e5e7eb !important;
}
[data-theme='dark'] .breadcrumbs__item:not(:first-child):not(.breadcrumbs__item--active) .breadcrumbs__link:hover {
    color: #94a3b8 !important;
}
[data-theme='dark'] .breadcrumbs__item--active .breadcrumbs__link {
    color: #60a5fa !important;
    background: rgba(0, 118, 255, 0.12) !important;
}

.menu__list-item-collapsible > .menu__link { font-weight: 800 !important; color: #000000 !important; font-size: 0.92rem !important; margin-top: 0.4rem !important; padding: 0.4rem 0.75rem !important; }
.menu__link { font-size: 0.9rem !important; color: #4b5563 !important; }
.menu__link--active { background: #f0f0f0 !important; color: var(--ifm-color-primary) !important; font-weight: 700 !important; border-left: 4px solid var(--ifm-color-primary) !important; padding-left: calc(0.75rem - 4px) !important; }
.menu__link::before { content: none !important; }

/* Dark mode active menu item */
[data-theme='dark'] .menu__link--active {
    background: rgba(0, 118, 255, 0.15) !important;
    color: #60a5fa !important;
}

/* --- 10. GITHUB STAR (ENHANCED) --- */
.gh-star-badge {
    display: flex !important;
    align-items: center;
    gap: 6px !important;
    background: linear-gradient(135deg, rgba(0, 0, 0, 0.03), rgba(0, 0, 0, 0.06)) !important;
    border: 1.5px solid rgba(0, 0, 0, 0.12) !important;
    padding: 4px 8px !important;
    border-radius: 6px !important;
    transition: all 0.3s ease !important;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05) !important;
}
.gh-star-badge:hover {
    background: linear-gradient(135deg, rgba(0, 118, 255, 0.08), rgba(0, 118, 255, 0.12)) !important;
    border-color: rgba(0, 118, 255, 0.3) !important;
    box-shadow: 0 2px 8px rgba(0, 118, 255, 0.15) !important;
    transform: translateY(-1px) !important;
}
.gh-logo {
    width: 14px !important;
    height: 14px !important;
    margin-right: 3px !important;
    opacity: 0.8;
    transition: opacity 0.3s ease !important;
}
.gh-star-badge:hover .gh-logo {
    opacity: 1;
}
.gh-star-separator {
    width: 1px;
    height: 14px;
    background: rgba(0, 0, 0, 0.15);
    margin: 0 3px;
}
.gh-star-icon {
    width: 12px !important;
    height: 12px !important;
    fill: #f1c40f !important;
    stroke: #000000 !important;
    stroke-width: 1.2px !important;
    transition: all 0.3s ease !important;
}
.gh-star-badge:hover .gh-star-icon {
    fill: #ffd700 !important;
    filter: drop-shadow(0 0 3px rgba(241, 196, 15, 0.4));
}
.gh-star-count {
    font-weight: 600;
    font-size: 0.8rem;
    color: #1f2937;
    transition: color 0.3s ease !important;
}
.gh-star-badge:hover .gh-star-count {
    color: var(--ifm-color-primary);
}

/* Dark mode visibility */
[data-theme='dark'] .gh-star-count {
    color: #e5e7eb !important;
}
[data-theme='dark'] .gh-star-badge:hover .gh-star-count {
    color: var(--ifm-color-primary) !important;
}